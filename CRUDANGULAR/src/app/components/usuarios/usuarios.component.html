<div *ngIf="visibilidadeTabela" class="divButton">
    <button mat-raised-button color="primary"Primary type="button" class="buttonInserir" (click)="ExibirFormularioCadastro() ">
        Nova Pessoa
    </button>
</div>


<div class="container1"  *ngIf="visibilidadeTabela">
    <div class="caixa1" >
        
    

        <table mat-table [dataSource]="usuarios" class="mat-elevation-z8" *ngIf="usuarios">

            <!--- Note that these columns can be defined in any order.
                  The actual rendered columns are set as a property on the row definition" -->
          
            <!-- Coluna do nome -->
            <ng-container matColumnDef="nome">
              <th   class = " thButton" mat-header-cell *matHeaderCellDef> Nome </th>
              <td mat-cell *matCellDef="let usuario"> {{usuario.nome}} </td>
            </ng-container>
          
            <!-- Coluna do CPF -->
            <ng-container matColumnDef="cpf">
              <th  class = " thButton" mat-header-cell *matHeaderCellDef> CPF </th>
              <td mat-cell *matCellDef="let usuario"> {{usuario.cpf}} </td>
            </ng-container>
          
            <!-- Coluna do email  -->
            <ng-container matColumnDef="email">
              <th  class = " thButton" mat-header-cell *matHeaderCellDef> Email </th>
              <td mat-cell *matCellDef="let usuario"> {{usuario.email}} </td>
            </ng-container>
          
            <!-- Coluna do tipo de funcionario  -->
            <ng-container matColumnDef="tipo">
              <th   class = " thButton" mat-header-cell *matHeaderCellDef> Tipo </th>
              <td mat-cell *matCellDef="let usuario"> {{usuario.type}} </td>
            </ng-container>


            <!-- Coluna de acoes possiveis-->
            <ng-container matColumnDef="acoes">
                <th class = " thButton"mat-header-cell *matHeaderCellDef> Acoes </th>
                <td mat-cell *matCellDef="let usuario">
                    
                    <button mat-raised-button color="primary"Primary type="button" class="butaoAtt" (click)="ExibirFormularioAtualizacao(usuario.usuarioId)">
                        Atualizar
                    </button>
                
                    <button mat-raised-button color="warn" type="button" class="butaoExcluir" (click)="ExcluirUsuario(usuario.usuarioId)" >
                        Excluir
                    </button>
            
                </td>
              </ng-container>

            
          
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          </table>

    
</div>
</div>





<!--Inicio da criacao do formulario-->
<div class = "formContainer" *ngIf="visibilidadeFormulario" >
    <div class="formContainer2">
        <div class="formContainer3" *ngIf="formulario">
            <h2>{{tituloFormulario}}</h2>
            <hr>
            
            <form [formGroup]="formulario" (ngSubmit)="EnviarFormulario()" #formDir="ngForm">
                <div class="form-group">
                    <label>Nome</label>
                    <input type="text" class="form-control" formControlName= "nome" required=""/>
                </div>

                <div *ngIf="nome.invalid" class="validationError">
                    <p *ngIf="nome.errors?.['required']">O nome e obrigatorio</p>
                </div>

                <div class="form-group">
                    <label>CPF</label>
                    <input type="text" class="form-control" formControlName= "cpf" required="">
                </div>

                <div *ngIf="cpf.invalid" class="validationError">
                    <p *ngIf="cpf.errors?.['required']">O CPF e obrigatorio</p>
                    <p *ngIf="cpf.errors?.minlength">Digite um CPF valido</p>
                </div>

                <div class="form-group">
                    <label>Email</label>
                    <input type="text" class="form-control" formControlName= "email" required=""/>
                </div>

                <div *ngIf="email.invalid" class="validationError">
                    <p *ngIf="email.errors?.['required']">O Email e obrigatorio</p>
                    <p *ngIf="email.errors?.['email']">Digite um Email valido</p>
                    <p *ngIf="email.errors?.minlength && email.errors?.['email']==false">Digite um Email valido</p>
                </div>

                <div class="form-group">
                    <label>Tipo de Usuario</label>
                    <input type="text" class="form-control" formControlName= "type" required=""/>
                </div>

                <div *ngIf="type.invalid" class="validationError">
                    <p *ngIf="type.errors?.['required']">O Tipo de funcionario e obrigatorio</p>
                    <p *ngIf="type.errors?.maxlength">Digite um tipo valido</p>
                </div>

                <div class="container">
                    <div class="row">
                        <div>
                            <button *ngIf="nome.invalid || cpf.invalid || email.invalid|| type.invalid" mat-raised-button color="primary"type="button" class="enviarb">
                                Salvar
                            </button>
                            <button *ngIf="nome.valid && cpf.valid && email.valid && type.valid" mat-raised-button color="primary"type="submit" class="enviarb">
                                Salvar
                            </button>
                        </div>
                        <div class="divB2">
                            <button mat-raised-button color="primary" type="button" class="button2" (click)="Voltar()">
                                Voltar
                            </button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>

</div>




 